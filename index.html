<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>پلیس +۱۰ افسریه | راهنمای خدمات</title>

  <style>
    :root{
      --ms-blue:#041E42;
      --white:#ffffff;
      --radius:16px;
    }
    *{box-sizing:border-box}

    body{
      margin:0;
      font-family:Tahoma, Arial, sans-serif;
      background:var(--ms-blue);
      color:var(--white);
      line-height:1.9;
    }

    .wrap{
      max-width:640px;
      margin:0 auto;
      padding:26px 16px 22px;
    }

    .brand{
      text-align:center;
      font-weight:900;
      margin-bottom:6px;
    }

    h1{
      margin:10px 0 4px;
      text-align:center;
      font-size:20px;
      font-weight:900;
    }

    /* SEARCH */
    .search-box{
      position:relative;
      margin-top:12px;
      margin-bottom:18px;
    }

    .mode-label{
      text-align:center;
      font-weight:900;
      margin-bottom:10px;
      opacity:.95;
    }

    /* (CHANGE #1) triangle toggle like your sketch */
    .tri-toggle{
      display:flex;
      justify-content:center;
      gap:0;
      margin-bottom:12px;
    }

    .tri-opt{
      position:relative;
      width:150px;
      height:54px;
      border:none;
      cursor:pointer;
      background:rgba(255,255,255,.12);
      color:rgba(255,255,255,.92);
      font-weight:900;
      font-family:inherit;
      padding:0;
      display:flex;
      align-items:center;
      justify-content:center;
      border:2px solid rgba(255,255,255,.26);
    }

    /* left triangle */
    .tri-opt.left{
      clip-path:polygon(0 0, 100% 0, 70% 100%, 0 100%);
      border-left:none;
      border-radius:14px 0 0 14px;
    }

    /* right triangle (inverted-like) */
    .tri-opt.right{
      clip-path:polygon(30% 0, 100% 0, 100% 100%, 0 100%);
      border-right:none;
      border-radius:0 14px 14px 0;
    }

    .tri-opt.active{
      background:#ffffff;
      color:#041E42;
      border-color:rgba(255,255,255,.85);
    }

    /* thin center separator like your drawing line */
    .tri-divider{
      width:6px;
      height:54px;
      background:rgba(255,255,255,.22);
      border-top:2px solid rgba(255,255,255,.26);
      border-bottom:2px solid rgba(255,255,255,.26);
    }
    .tri-divider.active{
      background:#ffffff;
      opacity:.9;
    }

    .search-input{
      width:100%;
      padding:16px 14px;
      border-radius:18px;
      border:none;
      font-size:14px;
      font-family:inherit;
    }

    .suggestions{
      display:none;
      position:absolute;
      top:100%;
      right:0;
      left:0;
      background:#ffffff;
      color:#041E42;
      border-radius:0 0 16px 16px;
      overflow:hidden;
      box-shadow:0 10px 30px rgba(0,0,0,.2);
      z-index:10;
    }

    .suggestions div{
      padding:12px 14px;
      border-bottom:1px solid #eee;
      font-weight:900;
      cursor:pointer;
    }
    .suggestions div:last-child{border-bottom:none}
    .suggestions small{
      display:block;
      font-weight:normal;
      font-size:12px;
      opacity:.8;
    }

    /* BLOCK (Popular) */
    .block{
      background:rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.25);
      border-radius:16px;
      padding:14px;
      margin-bottom:16px;
    }

    .block-title{
      font-weight:900;
      margin:0 0 10px;
      text-align:center;
      opacity:.95;
      font-size:15px;
    }

    .popular{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }

    /* (CHANGE #2) tiles thinner */
    .tile{
      text-decoration:none;
      background:rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.25);
      color:var(--white);
      border-radius:14px;
      padding:10px 12px;     /* کمتر */
      text-align:right;       /* برای آیکون کنار نوشته */
      font-weight:900;

      display:flex;           /* (CHANGE #1/3) icon inline with text */
      align-items:center;
      gap:10px;
      justify-content:flex-start;
    }

    /* (CHANGE #3) icon larger and aligned with text */
    .tile .ico{
      width:30px;
      height:30px;
      flex:0 0 30px;
      display:flex;
      align-items:center;
      justify-content:center;
      opacity:.98;
    }
    .tile .ico svg{width:30px;height:30px;display:block}
    .tile .ico path{fill:#ffffff}

    /* Internet - NOT same as search, thinner */
    .internet-thin{
      display:block;
      margin-top:12px;
      text-decoration:none;

      background:rgba(255,255,255,.18);
      color:var(--white);
      border:1px solid rgba(255,255,255,.28);

      border-radius:14px;
      padding:6px 12px;
      text-align:center;
      font-weight:900;
    }

    /* Notice */
    .note{
      background:rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.25);
      border-radius:14px;
      padding:12px;
      font-size:13px;
      margin-bottom:16px;
    }
    .note div{margin:6px 0}

    /* FOOTER */
    .footer{
      margin-top:18px;
      border-top:1px solid rgba(255,255,255,.25);
      padding-top:12px;
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      font-size:12px;
    }

    .footer-left{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }

    .footer a{
      text-decoration:none;
      color:var(--white);
      border:1px solid rgba(255,255,255,.35);
      border-radius:12px;
      padding:8px 12px;
      font-weight:900;
      white-space:nowrap;
      background:rgba(255,255,255,.10);
    }

    .addr{
      opacity:.95;
      line-height:1.7;
    }
    .addr div{margin:2px 0}

    @media (max-width:360px){
      .popular{grid-template-columns:1fr}
      .footer{flex-direction:column}
      .footer-left{width:100%}
      .tri-opt{width:132px}
    }
  </style>
</head>

<body>
<div class="wrap">

  <div class="brand">دفتر پلیس +۱۰ افسریه</div>

  <h1>برای چه کاری مراجعه کرده‌اید؟</h1>

  <!-- SEARCH -->
  <div class="search-box">

    <div class="mode-label">نوع جستجو را انتخاب کنید:</div>

    <!-- (CHANGE #1) two triangles -->
    <div class="tri-toggle">
      <button id="modeQuestion" class="tri-opt left" type="button">سوال</button>
      <div id="triDivider" class="tri-divider"></div>
      <button id="modeService" class="tri-opt right active" type="button">خدمت</button>
    </div>

    <input id="search" class="search-input" type="text"
      placeholder="مثلاً: گذرنامه، معافیت، ترخیص...">

    <div id="suggestions" class="suggestions"></div>
  </div>

  <!-- POPULAR BLOCK -->
  <div class="block">
    <div class="block-title">خدمات پرتکرار</div>

    <div class="popular">
      <a class="tile" href="#">
        <span class="ico" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M7 3h8a3 3 0 0 1 3 3v14a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 2v14h9V6a1 1 0 0 0-1-1H7Zm2 3h5v2H9V8Zm0 4h5v2H9v-2Z"/></svg>
        </span>
        <span>گذرنامه</span>
      </a>

      <a class="tile" href="#">
        <span class="ico" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M7 6h10l2 6v7a1 1 0 0 1-1 1h-1a2 2 0 0 1-4 0H11a2 2 0 0 1-4 0H6a1 1 0 0 1-1-1v-7l2-6Zm1.4 2L7 12h10l-1.4-4H8.4ZM7 14v3h1.2a2 2 0 0 1 3.6 0h4.4a2 2 0 0 1 3.6 0H19v-3H7Z"/></svg>
        </span>
        <span>ترخیص خودرو / موتور</span>
      </a>

      <a class="tile" href="#">
        <span class="ico" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M6 4h12a2 2 0 0 1 2 2v12a3 3 0 0 1-3 3H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm0 2v13h11a1 1 0 0 0 1-1V6H6Zm2 2h6v2H8V8Zm0 4h9v2H8v-2Z"/></svg>
        </span>
        <span>گواهینامه</span>
      </a>

      <a class="tile" href="#">
        <span class="ico" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M5 5h6v6H5V5Zm8 0h6v6h-6V5ZM5 13h6v6H5v-6Zm8 0h6v6h-6v-6Z"/></svg>
        </span>
        <span>سایر خدمات</span>
      </a>
    </div>

    <a class="internet-thin" href="#">
      خدمات اینترنتی (غیرحضوری)
    </a>
  </div>

  <div class="note">
    <div>• حضور متقاضی در برخی خدمات الزامی است.</div>
    <div>• مدارک ناقص ممکن است پذیرش نشود.</div>
  </div>

  <div class="footer">
    <div class="addr">
      <div>آدرس: .................</div>
      <div>ساعات کاری: .................</div>
    </div>

    <div class="footer-left">
      <a href="#">تماس</a>
      <a href="hire.html">استخدام</a>
    </div>
  </div>

</div>

<script>
  const input = document.getElementById('search');
  const box = document.getElementById('suggestions');

  const modeServiceBtn = document.getElementById('modeService');
  const modeQuestionBtn = document.getElementById('modeQuestion');
  const triDivider = document.getElementById('triDivider');

  let mode = 'service';

  const serviceItems = [
    {t:'گذرنامه', s:'مدارک و شرایط'},
    {t:'نظام وظیفه', s:'معافیت تحصیلی و وضعیت مشمول'},
    {t:'ترخیص خودرو', s:'پارکینگ و توقیف'},
    {t:'گواهینامه', s:'تمدید و خدمات مرتبط'},
    {t:'سایر خدمات', s:'لیست کامل خدمات'}
  ];

  const questionItems = [
    {t:'مدارک گذرنامه چیست؟', s:'چک‌لیست مدارک'},
    {t:'زمان انجام کار چقدر است؟', s:'زمان معمول هر خدمت'},
    {t:'هزینه‌ها چقدر است؟', s:'تعرفه و هزینه دفتر'},
    {t:'چه زمانی حضور الزامی است؟', s:'حضوری/غیرحضوری'},
    {t:'سوالات پرتکرار', s:'مشاهده همه FAQ'}
  ];

  function setMode(newMode){
    mode = newMode;

    if(mode === 'service'){
      modeServiceBtn.classList.add('active');
      modeQuestionBtn.classList.remove('active');
      triDivider.classList.remove('active');
      input.placeholder = 'مثلاً: گذرنامه، معافیت، ترخیص...';
    } else {
      modeQuestionBtn.classList.add('active');
      modeServiceBtn.classList.remove('active');
      triDivider.classList.add('active');
      input.placeholder = 'مثلاً: مدارک گذرنامه چیست؟ هزینه‌ها؟ زمان؟';
    }

    input.value = '';
    box.style.display = 'none';
    box.innerHTML = '';
  }

  modeServiceBtn.addEventListener('click', () => setMode('service'));
  modeQuestionBtn.addEventListener('click', () => setMode('question'));

  // service: startsWith(title)
  // question: includes(title) so typing "گذرنامه" also works
  function renderSuggestions(list, q){
    const query = (q || '').trim();
    if(!query){
      box.style.display = 'none';
      box.innerHTML = '';
      return;
    }

    const filtered = list.filter(x => {
      const t = (x.t || '');
      return (mode === 'service')
        ? t.startsWith(query)
        : t.includes(query);
    });

    if(!filtered.length){
      box.innerHTML = `<div style="padding:12px 14px;font-weight:900;opacity:.8">نتیجه‌ای پیدا نشد</div>`;
      box.style.display = 'block';
      return;
    }

    const items = filtered.slice(0, 6);

    box.innerHTML = items.map(x => `
      <div>
        ${x.t}
        <small>${x.s || ''}</small>
      </div>
    `).join('');

    box.style.display = 'block';
  }

  input.addEventListener('input', () => {
    const list = (mode === 'service') ? serviceItems : questionItems;
    renderSuggestions(list, input.value);
  });

  document.addEventListener('click', e => {
    if (!e.target.closest('.search-box')) box.style.display = 'none';
  });

  setMode('service');
</script>

</body>
</html>
