<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>پلیس +۱۰ افسریه | راهنمای خدمات</title>

<style>
:root{
  --ms-blue:#041E42;
  --white:#ffffff;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:Tahoma, Arial, sans-serif;
  background:var(--ms-blue);
  color:var(--white);
  line-height:1.9;
}

.wrap{
  max-width:640px;
  margin:0 auto;
  padding:26px 16px 22px;
}

.brand{text-align:center;margin-bottom:10px;}

.search-box{margin-top:8px;margin-bottom:18px;}

.search-area{position:relative;}

.search-input{
  width:100%;
  padding:16px 14px;
  border-radius:18px;
  border:none;
  font-size:14px;
  font-family:inherit;
}

/* منو همیشه بالا باز می‌شود (موبایل و دسکتاپ یکسان) */
.suggest{
  position:absolute;
  bottom:calc(100% + 10px);
  right:0;
  left:0;
  background:rgba(255,255,255,.12);
  border:1px solid rgba(255,255,255,.25);
  border-radius:16px;
  overflow:hidden;
  display:none;
  z-index:50;
  filter:drop-shadow(0 10px 18px rgba(0,0,0,.25));
  max-height:220px;
  overflow:auto;
}

.suggest button{
  width:100%;
  background:transparent;
  border:none;
  padding:12px 14px;
  text-align:right;
  color:#fff;
  font-weight:900;
  font-family:inherit;
  cursor:pointer;
  border-bottom:1px solid rgba(255,255,255,.18);
}

.suggest button:last-child{border-bottom:none;}

.suggest button:hover,
.suggest button:focus{
  outline:none;
  background:rgba(255,255,255,.18);
}

.block{
  background:rgba(255,255,255,.12);
  border:1px solid rgba(255,255,255,.25);
  border-radius:16px;
  padding:14px;
  margin-bottom:16px;
}

.block-title{text-align:center;font-weight:900;margin-bottom:10px;}

.popular{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}

.tile{
  background:rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.25);
  border-radius:14px;
  padding:10px 12px;
  font-weight:900;
  display:flex;
  align-items:center;
  gap:12px;
  color:#fff;
  text-decoration:none;
}

.tile img{width:44px;height:44px;}

.internet-thin{
  display:block;
  margin-top:12px;
  text-decoration:none;
  background:rgba(255,255,255,.18);
  color:#fff;
  border:1px solid rgba(255,255,255,.28);
  border-radius:14px;
  padding:6px 12px;
  text-align:center;
  font-weight:900;
}

/* Footer: همه موارد داخل کادر مثل دکمه */
.footer{
  margin-top:18px;
  border-top:1px solid rgba(255,255,255,.25);
  padding-top:12px;
  display:flex;
  justify-content:space-between;
  gap:12px;
  font-size:12px;
  align-items:flex-start;
}

/* ستون راست: تماس/آدرس/ساعت کاری زیر هم */
.footer-right{
  display:flex;
  flex-direction:column;
  gap:8px;
  min-width:160px;
}

/* ستون چپ: استخدام */
.footer-left{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.footer-box{
  display:block;
  color:#fff;
  border:1px solid rgba(255,255,255,.35);
  border-radius:12px;
  padding:10px 12px;
  font-weight:900;
  background:rgba(255,255,255,.10);
  text-decoration:none;
  line-height:1.6;
}

.footer-box span{
  opacity:.92;
  font-weight:900;
}

</style>
</head>

<body>
<div class="wrap">

<div class="brand">
  <img src="assets/img/logo/logo_white.png" style="width:96px;">
</div>

<div class="search-box">
  <div class="search-area">
    <input id="search" class="search-input"
      placeholder="برای چه خدمتی مراجعه کرده‌اید؟ (مثلاً: گذرنامه، گواهینامه، ترخیص...)"
      autocomplete="off">

    <div id="suggest" class="suggest" aria-label="پیشنهاد خدمات"></div>
  </div>
</div>

<div class="block">
  <div class="block-title">خدمات پرتکرار</div>

  <div class="popular">
    <a class="tile" href="#"><img src="assets/img/icons/passport.png">گذرنامه</a>
    <a class="tile" href="#"><img src="assets/img/icons/tow.png">ترخیص خودرو / موتور</a>
    <a class="tile" href="#"><img src="assets/img/icons/license.png">گواهینامه</a>
    <a class="tile" href="#"><img src="assets/img/icons/other.png">سایر خدمات</a>
  </div>

  <a class="internet-thin" href="#">خدمات اینترنتی (غیرحضوری)</a>
</div>

<div class="footer">
  <div class="footer-right">
    <a class="footer-box" href="#">تماس</a>
    <div class="footer-box"><span>آدرس:</span> .................</div>
    <div class="footer-box"><span>ساعات کاری:</span> .............</div>
  </div>

  <div class="footer-left">
    <a class="footer-box" href="hire.html">استخدام</a>
  </div>
</div>

</div>

<script>
const SERVICES = [
  { title: "گذرنامه", href: "#" },
  { title: "ترخیص خودرو / موتور", href: "#" },
  { title: "گواهینامه", href: "#" },
  { title: "خلافی خودرو", href: "#" },
  { title: "نظام وظیفه", href: "#" },
  { title: "کارت سوخت", href: "#" }
];

const MAX_SHOW = 4;

const input = document.getElementById("search");
const suggest = document.getElementById("suggest");

function norm(s){
  return (s || "")
    .toString()
    .trim()
    .replace(/\s+/g," ")
    .toLowerCase();
}

function hideSuggest(){
  suggest.style.display = "none";
  suggest.innerHTML = "";
}

function renderSuggestions(items){
  suggest.innerHTML = "";
  if (!items.length){
    hideSuggest();
    return;
  }

  items.slice(0, MAX_SHOW).forEach(item=>{
    const btn = document.createElement("button");
    btn.type = "button";
    btn.textContent = item.title;
    btn.onclick = ()=>{
      input.value = item.title;
      hideSuggest();
      window.location.href = item.href;
    };
    suggest.appendChild(btn);
  });

  suggest.style.display = "block";
}

function update(){
  const q = norm(input.value);
  if (!q){
    hideSuggest();
    return;
  }
  const matches = SERVICES.filter(s => norm(s.title).includes(q));
  renderSuggestions(matches);
}

input.addEventListener("input", update);

document.addEventListener("click", (e)=>{
  if (!e.target.closest(".search-area")) hideSuggest();
});

input.addEventListener("keydown", (e)=>{
  if (e.key !== "Enter") return;
  const q = norm(input.value);
  if (!q) return;

  const matches = SERVICES.filter(s => norm(s.title).includes(q));
  if (matches.length === 1){
    window.location.href = matches[0].href;
  } else {
    renderSuggestions(matches);
  }
});
</script>

</body>
</html>
